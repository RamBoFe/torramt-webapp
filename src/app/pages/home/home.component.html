<div class="container mt-5">
  <h1 class="text-center">Recherche de torrent</h1>
  <form
      [formGroup]="searchForm"
  >
    <div
      class="md-form"
    >
      <input
        class="form-control"
        formControlName="searchValue"
        id="search"
        mdbInput
        placeholder="Recherche"
        type="text"
      >
    </div>

    <app-torrent-active-providers [parentForm]="searchForm"></app-torrent-active-providers>

    <div class="text-center">
      <button mdbBtn mdbWavesEffect
              type="button"
              color="primary"
              outline="true"
              class="w-50"
              (click)="onSubmitForm()"
      >
        Rechercher
      </button>
    </div>
  </form>
</div>

<div class="container mt-5" *ngIf="torrents">
  <p>RÃ©sultats : {{ torrents.length }}</p>

  <ul class="list-group list-group-flush">
    <li
      *ngFor="let torrent of torrents; let i = index"
      class="list-group-item"
    >
      <div class="row">
        <div class="col-9">
          <p>{{ torrent.title }}</p>
          <mdb-badge
              class="mr-1"
              primary="true"
              pill="true"
          >
            {{ torrent.time | date: 'short' }}
          </mdb-badge>
          <mdb-badge
              class="mr-1"
              default="true"
              pill="true"
          >
            {{ torrent.size }}
          </mdb-badge>
          <mdb-badge
              success="true"
              pill="true"
          >
            {{ torrent.seeds }}
          </mdb-badge>
        </div>
        <div class="col-3 icon-actions">
          <button mdbBtn mdbWavesEffect
            type="button"
            color="primary"
            size="sm"
            (click)="addTorrentToDl(i)"
          >
          <mdb-icon fas icon="plus"></mdb-icon>
          </button>
          <button mdbBtn mdbWavesEffect
            type="button"
            color="primary"
            outline="true"
            size="sm"
          (click)="openModalTorrentDetails(i)"
          >
          <mdb-icon fas icon="info"></mdb-icon>
          </button>
        </div>
      </div>
    </li>
  </ul>
</div>

<div *ngIf="hasNotifications()"
     class="alert alert-success alert-dismissible fade show custom-notification"
     role="alert"
>
  <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="closeNotification()"
  >
    <span aria-hidden="true">&times;</span>
  </button>
  {{ notification.message }}
</div>
