<div class="container mt-5">

  <h1 class="text-center">Recherche de torrent</h1>
  <form
      [formGroup]="searchForm"
  >
    <div class="row md-form">
      <div class="col-12">
        <input
          mdbInput
          id="search"
          class="form-control"
          type="text"
          formControlName="searchValue"
          placeholder="Recherche"
        >
      </div>
    </div>

    <div class="row">
      <div class="col-12 text-right">
        <mdb-icon
          fas
          class="blue-text"
          [icon]="searchAdvanced ? 'chevron-down' : 'chevron-up'"
        ></mdb-icon>
        <a
          class="small"
          (click)="showSearchAdvanced()"
        >
          Plus d'options...
        </a>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div
          mdbCollapse
          class="small"
        >
          <app-torrent-active-providers [parentForm]="searchForm"></app-torrent-active-providers>
        </div>
      </div>
    </div>

    <div class="text-center mt-4">
      <button
        mdbBtn mdbWavesEffect
        type="button"
        color="primary"
        (click)="onSubmitForm()"
      >
        Rechercher
      </button>
    </div>
  </form>
</div>

<div
  *ngIf="torrents"
  class="container mt-5"
>
  <p>RÃ©sultats : {{ torrents.length }}</p>

  <ul class="list-group list-group-flush">
    <li
      *ngFor="let torrent of torrents; let i = index"
      class="list-group-item"
    >
      <div class="row">
        <div class="col-9">
          <p>{{ torrent.title }}</p>
          <mdb-badge
            class="mr-1"
            primary="true"
            pill="true"
          >
            {{ torrent.time | date: 'short' }}
          </mdb-badge>
          <mdb-badge
            class="mr-1"
            default="true"
            pill="true"
          >
            {{ torrent.size }}
          </mdb-badge>
          <mdb-badge
            success="true"
            pill="true"
          >
            {{ torrent.seeds }}
          </mdb-badge>
        </div>

        <div class="col-3 icon-actions">
          <button mdbBtn mdbWavesEffect
            type="button"
            color="primary"
            size="sm"
            (click)="addTorrentToDl(i)"
          >
          <mdb-icon
            fas
            icon="plus"
          ></mdb-icon>
          </button>
          <button
            mdbBtn mdbWavesEffect
            type="button"
            color="primary"
            outline="true"
            size="sm"
          (click)="openModalTorrentDetails(i)"
          >
          <mdb-icon
            fas
            icon="info"
          ></mdb-icon>
          </button>
        </div>
      </div>
    </li>
  </ul>
</div>
